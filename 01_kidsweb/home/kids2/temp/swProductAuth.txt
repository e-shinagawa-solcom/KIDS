 SELECT  a.strproductcode,  (  CASE WHEN a.strproductname IS NULL THEN (a.strproductcode || ' ' || a.strproductnamenull)  ELSE (a.strproductcode || ' ' || a.strproductname)  END ) , a.strproductname, '#FF3300' FROM ( SELECT mp.strproductcode  AS strproductcode  ,mp.strproductname  AS strproductname  ,NULL   AS strproductnamenull  ,mp.lnginchargeusercode as lnginchargeusercode FROM m_product mp WHERE mp.bytinvalidflag = false  AND (mp.strproductcode LIKE '%06055%')  AND (mp.strproductname LIKE '%%')  and ( mp.lngproductstatuscode = 0 or mp.lngproductstatuscode is null)  GROUP BY mp.strproductcode, mp.strproductname, mp.lnginchargeusercode UNION SELECT mp.strproductcode  AS strproductcode  ,NULL   AS strproductname  ,'（製品名称が空です）' AS strproductnamenull  ,mp.lnginchargeusercode as lnginchargeusercode FROM m_product mp WHERE mp.bytinvalidflag = false  AND (mp.strproductname IS NULL) GROUP BY mp.strproductcode, mp.strproductname, mp.lnginchargeusercode ) AS a WHERE CASE  WHEN  (SELECT count(*) FROM m_product WHERE strproductcode LIKE '%06055%') = (SELECT count(*) FROM m_product WHERE strproductcode LIKE '%06055%')  AND  (SELECT count(*) FROM m_product ) = (SELECT count(*) FROM m_product )  THEN (a.strproductname IS NOT NULL OR a.strproductnamenull IS NOT NULL)  ELSE (a.strproductname IS NOT NULL) END  and 38 in (  select  mu1.lngusercode  from  m_user mu1  ,m_grouprelation mgr1  ,  (  select   mu.lngusercode   ,mg.lnggroupcode  from   m_user mu   left join m_grouprelation mgr   on mgr.lngusercode = mu.lngusercode      left join m_group mg    on mg.lnggroupcode = mgr.lnggroupcode  where  mu.lngusercode = a.lnginchargeusercode   ) as mst1  where  mgr1.lnggroupcode = mst1.lnggroupcode    and mu1.bytinvalidflag = false  and mu1.lngusercode = mgr1.lngusercode      and (mu1.lngauthoritygroupcode <= 4 or mu1.lngusercode = mst1.lngUserCode or mu1.lngusercode in ('15','29','242','343')) ) ORDER BY a.strproductcode 
 SELECT  a.strproductcode,  (  CASE WHEN a.strproductname IS NULL THEN (a.strproductcode || ' ' || a.strproductnamenull)  ELSE (a.strproductcode || ' ' || a.strproductname)  END ) , a.strproductname, '#FF3300' FROM ( SELECT mp.strproductcode  AS strproductcode  ,mp.strproductname  AS strproductname  ,NULL   AS strproductnamenull  ,mp.lnginchargeusercode as lnginchargeusercode FROM m_product mp WHERE mp.bytinvalidflag = false  AND (mp.strproductcode LIKE '%06055%')  AND (mp.strproductname LIKE '%%')  and ( mp.lngproductstatuscode = 0 or mp.lngproductstatuscode is null)  GROUP BY mp.strproductcode, mp.strproductname, mp.lnginchargeusercode UNION SELECT mp.strproductcode  AS strproductcode  ,NULL   AS strproductname  ,'（製品名称が空です）' AS strproductnamenull  ,mp.lnginchargeusercode as lnginchargeusercode FROM m_product mp WHERE mp.bytinvalidflag = false  AND (mp.strproductname IS NULL) GROUP BY mp.strproductcode, mp.strproductname, mp.lnginchargeusercode ) AS a WHERE CASE  WHEN  (SELECT count(*) FROM m_product WHERE strproductcode LIKE '%06055%') = (SELECT count(*) FROM m_product WHERE strproductcode LIKE '%06055%')  AND  (SELECT count(*) FROM m_product ) = (SELECT count(*) FROM m_product )  THEN (a.strproductname IS NOT NULL OR a.strproductnamenull IS NOT NULL)  ELSE (a.strproductname IS NOT NULL) END  and 38 in (  select  mu1.lngusercode  from  m_user mu1  ,m_grouprelation mgr1  ,  (  select   mu.lngusercode   ,mg.lnggroupcode  from   m_user mu   left join m_grouprelation mgr   on mgr.lngusercode = mu.lngusercode      left join m_group mg    on mg.lnggroupcode = mgr.lnggroupcode  where  mu.lngusercode = a.lnginchargeusercode   ) as mst1  where  mgr1.lnggroupcode = mst1.lnggroupcode    and mu1.bytinvalidflag = false  and mu1.lngusercode = mgr1.lngusercode      and (mu1.lngauthoritygroupcode <= 4 or mu1.lngusercode = mst1.lngUserCode or mu1.lngusercode in ('15','29','242','343')) ) ORDER BY a.strproductcode 
id	name1	name2	name3
06055	06055 FW GUNDAM CONVERGE P-16	FW GUNDAM CONVERGE P-16	#FF3300
