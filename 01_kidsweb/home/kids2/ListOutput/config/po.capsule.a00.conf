#######	詳細内容
&	PAGE
%	TEMPLATESTRING
	<tr bgcolor="_%tr_bgcolor%_">
		<td nowrap id="listcol_top">《_%strproductcode%_》_%strproductname%_</td>
		<td nowrap id="listcol_top">_%struserdisplayname%_</td>
		<td nowrap id="listcol_top">_%dtmdeliverylimitdate%_</td>
	_%LINE%_
	</tr>
%	SQL
	select distinct
	mp.strProductCode
	,mp.strProductName
	,mu.strUserDisplayName
	,to_char(mp.dtmDeliveryLimitDate, 'YYYY/MM/DD')      AS dtmDeliveryLimitDate
@@	po.capsule.a00/po.capsule.a00.condtion.sql
	_%column_lngproductno_in_enable%_ AND mp.lngProductNo in (_%productno_in%_)
	ORDER BY mp.strproductcode

%	CHILDOBJECTIMPORTREPLACELIST
	1
%	CHILDOBJECT
	&	LINE_TEMP
	%	TEMPLATE
		po.capsule.a00/po.capsule.a01.template
	%	SQL
		SELECT DISTINCT
			m1.lngStockSubjectCode as stock_subject_code
			,m1.lngStockItemCode as stock_item_code
			,'product_line_s_%stock_subject_code%_i_%stock_item_code%_'  AS strRepValue
			,'<span style="color:'|| m1.strOrderCodeColor ||'">'||m1.strOrderCode || '-' || strReviseCode || '<br />' || '(' || m1.strStockItemName || ')' || '</span><br />' || '_%product_line_s' || m1.lngStockSubjectCode || 'i' || m1.lngStockItemCode || '%_' as col_value
			,CASE WHEN 	m1.lngStockSubjectCode = 402 AND m1.lngStockItemCode IN (2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13)
				THEN '<span style="color:'|| m1.strOrderCodeColor ||'">'||m1.strOrderCode || '-' || strReviseCode || '<br />' || '(' || m1.strStockItemName || ')' || '</span><br />' || '_%product_line_s402%_'
				ELSE '_%product_line_s402%_'
			END AS s402
			,CASE WHEN	(m1.lngStockSubjectCode = 431 AND m1.lngStockItemCode = 1) OR
						(m1.lngStockSubjectCode = 431 AND m1.lngStockItemCode = 4) OR
						(m1.lngStockSubjectCode = 431 AND m1.lngStockItemCode = 3) OR
						(m1.lngStockSubjectCode = 431 AND m1.lngStockItemCode = 7) OR
						(m1.lngStockSubjectCode = 433 AND m1.lngStockItemCode = 4) OR
						(m1.lngStockSubjectCode = 403 AND m1.lngStockItemCode = 1) OR
						(m1.lngStockSubjectCode = 433 AND m1.lngStockItemCode = 2) OR
						(m1.lngStockSubjectCode = 431 AND m1.lngStockItemCode = 8) OR
						(m1.lngStockSubjectCode = 433 AND m1.lngStockItemCode = 1) OR
						--(m1.lngStockSubjectCode = 401 AND m1.lngStockItemCode = 8) OR
						(m1.lngStockSubjectCode = 401 AND m1.lngStockItemCode = 5) OR
						(m1.lngStockSubjectCode = 401 AND m1.lngStockItemCode = 12) OR
						(m1.lngStockSubjectCode = 402 AND m1.lngStockItemCode = 1) OR
						(m1.lngStockSubjectCode = 402 AND m1.lngStockItemCode IN (2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13))
					THEN '_%product_line_sother%_'
				/* 99- その他 */
				WHEN	m1.lngStockItemCode = 99
					THEN '<span style="color:'|| m1.strOrderCodeColor ||'">'||m1.strOrderCode || '-' || strReviseCode || '<br />' || '(' || m1.strStockItemName || ')：' || strDetailNote || '</span><br />' || '_%product_line_sother%_'
				ELSE '<span style="color:'|| m1.strOrderCodeColor ||'">'||m1.strOrderCode || '-' || strReviseCode || '<br />' || '(' || m1.strStockItemName || ')' || '</span><br />' || '_%product_line_sother%_'
			END AS sother
	@@	po.capsule.a00/po.capsule.a00.condtion.sql
		AND mp.strProductCode = '_%strproductcode%_'
	%	NOREPEAT
		product_line_s_%stock_subject_code%_i_%stock_item_code%_
	%	NOREPEATVALUE
		_%col_value%_
	%	NOREPEAT1
		product_line_s402
	%	NOREPEATVALUE1
		_%s402%_
	%	NOREPEAT2
		product_line_sother
	%	NOREPEATVALUE2
		_%sother%_
	%	NOREPEATLIMIT
		1

	&	LINE
	%	RESULTTEMPLATE
		LINE_TEMP
	%	SQL
		select 1
	%	EVAL
		$arySQLResult['product_line_s.+?'] = '';


#		####### 製品コード・製品名
#		&	product_line_productinfo
#		%	TEMPLATESTRING
#			《_%strproductcode%_》_%strproductname%_
#		%	SQL
#			SELECT ''
#	
#	%	CHILDOBJECT
#		####### 原型
#		&	product_line_s431i1
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s431i1%_</span>
#	#	%	RESULTTEMPLATE
#	#		PAGE
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s431i1.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	#	%	NOREPEAT
#	#		s431i1__%s431i1%_
#	#	%	NOREPEATVALUE
#	#		_%s431i1%_
#	
#	%	CHILDOBJECT
#		####### シリコン
#		&	product_line_s431i4
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s431i4%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s431i4.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### キャスト
#		&	product_line_s431i3
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s431i3%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s431i3.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### 分割
#		&	product_line_s431i7_s433i4
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s431i7_s433i4%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s431i7_s433i4.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### 彩色
#		&	product_line_s403i1
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s403i1%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s403i1.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### マスク
#		&	product_line_s433i2
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s433i2%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s433i2.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### 金型
#		&	product_line_s431i8_s433i1
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s431i8_s433i1%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s431i8_s433i1.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### タンポ
#		&	product_line_s401i8
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s401i8%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s401i8.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### ミニブック
#		&	product_line_s401i5
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s401i5%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s401i5.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### カートン版
#		&	product_line_s401i12
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s401i12%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s401i12.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		####### MassProduct
#		&	product_line_s402i1
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s402i1%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s402i1.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		&	product_line_s402
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%s402%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.s402.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'
#	
#	%	CHILDOBJECT
#		&	product_line_siother
#		%	TEMPLATESTRING
#			<span style="color:_%strordercodecolor%_">_%siother%_</span>
#		%	SQL
#		@@	po.capsule.a00/po.capsule.a00.child.siother.sql
#		@@	po.capsule.a00/po.capsule.a00.condtion.sql
#			AND mp.strProductCode = '_%strproductcode%_'

%	COUNT
	PRODUCTCOUNT
%	ROWNUM
	rownum
%	EVAL
	$lngCount = 0;
	$lngCount = $arySQLResult['rownum'];
	// 色変更
	if( ($lngCount) % 2 == 0 )
	{
		$strTrBgcolor = "#CCCCCC";	// 偶数の場合
	}
	else
	{
		$strTrBgcolor = "#FFFFFF";	// 奇数の場合
	}
	$arySQLResult["tr_bgcolor"] = $strTrBgcolor;


#######	部門、担当者、日付、閲覧範囲
&	CONDITIONS
%	TEMPLATESTRING
@@	../template/po.capsule.a00/po.capsule.a02.template
%	SQL
@@	po.capsule.a00/po.capsule.a02.sql
